(sec-contrib-docs)=
# Writing Documentation

Our documentation is powered by [Jupyter Book](https://jupyterbook.org/intro.html) and GitHub pages.
Only the maintainers need to worry about GitHub pages, so this guide is about Jupyter Book and our documentation structure.

:::{admonition} Summary
- Documentation is stored as Markdown files or Jupyter notebooks in the `docs/` folder.
- Use `make docs` to compile the documentation locally.
- Do not `git add` files from `docs/_build/`.
:::

## Jupyter Books

[Jupyter Book](https://jupyterbook.org/intro.html) is "an open source project for building beautiful, publication-quality books and documents from computational material."
It allows you write technical content as Markdown files (`.md`) or Jupyter notebooks (`.ipynb`).
Use a notebook if you have code that you actually want to run (examples / tutorials); Markdown is usually sufficient and a little easier otherwise.

Install Jupyter Book with `python3 -m pip install --upgrade jupyter-book`.

## Documentation Structure

All documentation is grouped in the `docs/` folder.
The project `README.md` should be kept short and refer to the official documentation.

- `docs/_config.yml`: configuration for the Jupyter Book format.
- `docs/_toc.yml`: documentation table of contents. You will need to modify this file if you add or delete documentation pages.
- `docs/references.bib`: Bibtex citations. Cite them in the documentation with `` {cite}`referencekey` ``.
- `docs/images/`: contains all static images not generated by code in a notebook. SVGs are preferable, PDFs and PNGs are probably fine.
- `docs/content/`: contains all of the files with the actual written documentation. The file tree structure should be somewhat obvious from the structure of the page you're looking at right now and from `docs/_toc.yml`.
- `docs/content/examples/`: contains notebooks with full examples, i.e., anything more complicated than the tutorial notebook.

<!-- - `docs/requirements.txt`: Software dependencies for compiling the documentation. -->

As you can see on the left of this page, `docs/content/` is organized into the following chapters.
- **Operator Inference**: general exposition about the setting and methodology.
- **Package Usage**: specifics on using the package, written narratively and not as an API.
- **Examples**: notebooks with full examples, i.e., anything more complicated than the tutorial notebook.
- **API Reference**: public function/class signatures and docstrings. We should generate this automatically if possible.
- **Developer Guide**: instructions for developers (such as this page).

## Building Documentation Locally

From the root folder of the repository, execute `make docs` to build the documentation.
This is a shortcut for `jupyter-book build docs`; use `jupyter-book build --help` to see build options.

The documentation is processed and copied to in `docs/_build`.
Open the file `docs/_build/html/index.html` in a browser to see a preview (try Google Chrome if the file doesn't render nicely).

```{attention}
Do not `git add` the build files from `docs/_build`!
Only the `gh-pages` branch should track this folder.
The `.gitignore` should remind you of this if you accidentally try to add them.
```

## Helpful Jupyter Book References

Some particularly useful pages from [the Jupyter Book topic guides](https://jupyterbook.org/intro.html):

- [Special content boxes (notes, tips, warnings, etc.)](https://jupyterbook.org/content/content-blocks.html)
- [List of standard admonitions](https://sphinx-book-theme.readthedocs.io/en/latest/reference/kitchen-sink/paragraph-markup.html#admonitions)
- [References and cross-references](https://jupyterbook.org/content/references.html)
- [Math and equations](https://jupyterbook.org/content/math.html)
- [Citations and bibliographies](https://jupyterbook.org/content/citations.html)
- [Images and Figures](https://jupyterbook.org/content/figures.html)
